
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>小毛的胡思乱想</title>
  <meta name="author" content="蔡晓建">

  
  <meta name="description" content="着重介绍与项目使用相关的xml知识 常见节点 虽然xml节点是可以带属性的，但是我们项目中使用的通常没有带属性。
常见节点有带子节点的节点(非内容节点)、带文本的节点。
协议中表示可选的节点，通常是指文本为空的节点，如，而不能不带。 节点的顺序 非列表节点，通常是不需要限定顺序的， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mccxj.github.com/blog/page/6/index.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="小毛的胡思乱想" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">小毛的胡思乱想</a></h1>
  
    <h2>凡走过,必留痕迹.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:mccxj.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/20140814_xml-intro.html">Xml格式须知</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-14T00:00:00+08:00" pubdate data-updated="true">Aug 14<span>th</span>, 2014</time>
        
         | <a href="/blog/20140814_xml-intro.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>着重介绍与项目使用相关的xml知识</p>

<h3>常见节点</h3>

<ul>
<li>虽然xml节点是可以带属性的，但是我们项目中使用的通常没有带属性。</li>
<li>常见节点有带子节点的节点(非内容节点)、带文本的节点。</li>
<li>协议中表示可选的节点，通常是指文本为空的节点，如<name></name>，而不能不带。</li>
</ul>


<h3>节点的顺序</h3>

<ul>
<li>非列表节点，通常是不需要限定顺序的，但不排除有一些SB系统处理不了，所以最好按协议顺序来。</li>
<li>带列表节点，最好保证子节点按业务要求的顺序排列，即使有标示顺序的子节点。</li>
</ul>


<h3>命名空间</h3>

<ul>
<li>通常是有命名空间的话，所有节点都会带，不带通常是不对的。</li>
<li>命名空间是通过xmlns:n0=&#8221;http://www.gmcc.net/ngcrm/&#8221; 来进行别名的，理论上应该认URI而不是别名，但实际使用却常用别名来识别。</li>
<li>解析时可以考虑忽略命名空间处理，例如xpath，可以用doc.selectNodes(&#8220;//*[local-name()=&#8217;Service&#8217;]&#8221;)找到Service节点。</li>
</ul>


<h3>编码格式</h3>

<ul>
<li>xml是一种自编码文本，是由第一行决定整个xml的编码格式。</li>
<li>上面只是规范，但像http一样，总有系统不是这么玩的，需要双方协商和确认。</li>
<li>有的xml就是没有第一行的编码描述，更是应该协商确认。</li>
</ul>


<h3>合法的值</h3>

<ul>
<li>除了内置xml文本作为文本节点，或者明显可能特殊字符的文本(如密码，各种属性用某符号拼接)，大多数情况不需要关注。</li>
<li>和html一样，某些特殊字符是需要转移的，见下面的转义列表。</li>
<li>如果不想转义，需要用&lt;![CDATA[]]>括起来，需要注意的是，里边的内容需要保持不转义。</li>
<li>&lt;![CDATA[]]>里边的内容是原封不动获取的，即使内容带了回车、空格，如果需要对内容二次处理的话，需要注意某些留空可能导致无法处理。</li>
<li>&lt;![CDATA[]]>不能嵌套两次，只能用转义来规避。</li>
</ul>


<p>常见的特殊字符</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>lt <span class="ni">&amp;lt;</span> <span class="err">&lt;</span>（小于号）
</span><span class='line'>gt <span class="ni">&amp;gt;</span> &gt;（大于号）
</span><span class='line'>amp <span class="err">&amp;</span>  <span class="err">&amp;</span>（“and”符）
</span><span class='line'>apos &#39; &#39;（撇号或单引号）
</span><span class='line'>quot &quot; &quot;（双引号）
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/20140410_books-to-be-read.html">2014读书笔记</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-10T00:00:00+08:00" pubdate data-updated="true">Apr 10<span>th</span>, 2014</time>
        
         | <a href="/blog/20140410_books-to-be-read.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>ruby元编程</h3>

<ul>
<li>作者Paolo Perrotta</li>
<li>阅读于2014-04-22,大约5天</li>
<li>适合有一定ryby/rails开发经验的同学,对认识ruby魔法很有帮助</li>
</ul>


<p>最近看这本书，主要是跟别人谈起这本书，一时兴起又阅读一下，主要是复习复习。毕竟自己搞ruby/rails有好几个年头了，虽然现在主要以java为主，但是ruby还是我工作以外的首选。说回这本书，是系统介绍ruby魔法的魔法书，如果想了解一下那些神奇的库是怎么实现的，又或者想用ruby构建自己的DSL，这本书可以给你足够的知识点。放马去吧！</p>

<h3>CSS实战手册</h3>

<ul>
<li>作者David Sawyer McFarland</li>
<li>阅读于2014-04-18,大约7天</li>
<li>适合想系统学习点CSS的童鞋，书籍出版了有些年头，不过的确经典，强力推荐</li>
</ul>


<p>最近在弄个网站，苦恼bootstrap水太深，想调整难度大，所以看看书找找感觉。
这个The Missing Manual系列还是比较出名的，特别是这本CSS实战手册，难度也不是大，但讲解得很系统化。
其实，这本书还出了新版，专注CSS3了。可惜的是，现在只有英文版，不是很适合我这种CSS初哥，不过下一阶段打算看看。
那么多概念，还是浮云呀，终究还是看基础扎不扎实。</p>

<h3>Go语言编程</h3>

<ul>
<li>作者许式伟、吕桂华(七牛云存储团队)</li>
<li>阅读于2014-04-09,大约3天</li>
<li>适合对Go语言刚兴趣、想一窥究竟的童鞋,内容一般、比较浅显,不是很适应英文的童鞋可以优先考虑</li>
</ul>


<p>看这本书主要是冲着七牛云存储团队的名气去的，毕竟他们是国内第一个吃螃蟹的，据说90%以上的代码都是GO实现的。
另外，我最近用Go在做点东西，看从中看到对Go实践方式的解读。阅读之后，感觉内容偏浅，不如看官方文档。
不过里边有些例子还不错，适合有其他语言经验的童鞋阅读，可以通过对比其他语言的代码实现，加深印象。
总结一下，这书适合快速浏览，剩下的还是老老实实编程吧。</p>

<h3>代码的未来</h3>

<ul>
<li>作者松本行弘(Ruby之父)</li>
<li>阅读于2014-04-06,大约3天</li>
<li>适合轻松阅读、扩展知识面,不深入,可以读读</li>
</ul>


<p>这本书和作者另外一本书&#8221;松本行弘的程式世界&#8221;感觉有些类似，都是以发表在某专栏的文章集合为主。
可能是由于篇幅问题，大多都是泛泛而谈，点到即止。阅读起来没有什么压力，如果有需要深入的话，就得自己去找资料了。
总体来说，我对这类书还是挺感兴趣的，可以挑选一些自己感兴趣的话题进行阅读，有助于开阔视野。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/20140329_was-datasource.html">Websphere+spring+jndi数据源配置</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-29T00:00:00+08:00" pubdate data-updated="true">Mar 29<span>th</span>, 2014</time>
        
         | <a href="/blog/20140329_was-datasource.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>配置的步骤在下面简要说明:</p>

<ol>
<li>增加基于spring的jndi数据源配置</li>
<li>在websphere上增加数据源配置</li>
<li>链接iiop地址</li>
</ol>


<p>下面进行详细描述。</p>

<ul>
<li>基于spring的jndi配置文件</li>
</ul>


<p>注意:如果是第二种方式，可以忽略第三部分&#8221;链接iiop地址&#8221;</p>

<p>第一种方式:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</span><span class='line'>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
</span><span class='line'> xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
</span><span class='line'> xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;
</span><span class='line'> xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;
</span><span class='line'> xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd&quot;&gt;
</span><span class='line'>
</span><span class='line'><span class="gi">+    &lt;bean id=&quot;GlobalConfig&quot;</span>
</span><span class='line'><span class="gi">+        class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;</span>
</span><span class='line'><span class="gi">+        &lt;property name=&quot;systemPropertiesMode&quot;&gt;</span>
</span><span class='line'><span class="gi">+            &lt;value&gt;1&lt;/value&gt;</span>
</span><span class='line'><span class="gi">+        &lt;/property&gt;</span>
</span><span class='line'><span class="gi">+        &lt;property name=&quot;searchSystemEnvironment&quot;&gt;</span>
</span><span class='line'><span class="gi">+            &lt;value&gt;true&lt;/value&gt;</span>
</span><span class='line'><span class="gi">+        &lt;/property&gt;</span>
</span><span class='line'><span class="gi">+        &lt;property name=&quot;ignoreUnresolvablePlaceholders&quot;&gt;</span>
</span><span class='line'><span class="gi">+            &lt;value&gt;true&lt;/value&gt;</span>
</span><span class='line'><span class="gi">+        &lt;/property&gt;</span>
</span><span class='line'><span class="gi">+    &lt;/bean&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="gi">+     &lt;bean id=&quot;jtaTransactionManager&quot; class=&quot;org.springframework.transaction.jta.WebSphereUowTransactionManager&quot; /&gt;</span>
</span><span class='line'>   &lt;tx:annotation-driven transaction-manager=&quot;jtaTransactionManager&quot;  proxy-target-class=&quot;true&quot; /&gt;
</span><span class='line'>   &lt;bean id=&quot;lobHandler&quot; class=&quot;org.springframework.jdbc.support.lob.DefaultLobHandler&quot;/&gt;
</span><span class='line'>
</span><span class='line'><span class="gi">+    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;</span>
</span><span class='line'><span class="gi">+        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;XXX&lt;/value&gt;&lt;/property&gt;</span>
</span><span class='line'><span class="gi">+        &lt;property name=&quot;resourceRef&quot;&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;</span>
</span><span class='line'><span class="gi">+        &lt;property name=&quot;jndiEnvironment&quot;&gt;&lt;props&gt;&lt;prop key=&quot;java.naming.provider.url&quot;&gt;${java_naming_provider_url}&lt;/prop&gt;&lt;/props&gt;&lt;/property&gt;</span>
</span><span class='line'><span class="gi">+    &lt;/bean&gt;  </span>
</span><span class='line'>&lt;/beans&gt;
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>在websphere上增加数据源配置</li>
</ul>


<p><img src="/assets/images/2014/ds.png" alt="效果图" /></p>

<ul>
<li>链接iiop地址</li>
</ul>


<p>在server的java进程定义里边配置jvm参数:  -Djava_naming_provider_url=iiop://localhost:port/,另外，修改启动参数需要重启server才能生效。</p>

<p><img src="/assets/images/2014/iiop.png" alt="效果图" /></p>

<p>其中每个server的port都是不一样的，具体的端口通过Application servers - serverX - Communications -  Ports上查看，如下图:</p>

<p><img src="/assets/images/2014/port.png" alt="效果图" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/20140225_android-jdk7-bug.html">Jdk7编译的bug记录</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-25T00:00:00+08:00" pubdate data-updated="true">Feb 25<span>th</span>, 2014</time>
        
         | <a href="/blog/20140225_android-jdk7-bug.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>过程</h2>

<p>昨天在编译某个android项目的时候，发现dex打包出错。
后来检查发现编译生成的SplashScreenActivity$1.class格式出错。</p>

<p>后来经常测试，发现jdk6正常，jdk7不正常，包括最新的u51版本。</p>

<h2>bug分析</h2>

<p>相关的代码如下:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">private</span> <span class="kt">void</span> <span class="nf">checkUpdate</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">UpgradeInfo</span><span class="o">.</span><span class="na">isApkLocalExist</span><span class="o">(</span><span class="n">SplashScreenActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">UpgradeInfo</span><span class="o">.</span><span class="na">getFilePath</span><span class="o">()))</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">updateInstall</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">AUTO_UPDATE</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">initDialog</span><span class="o">();</span>
</span><span class='line'>        <span class="n">mUpgradeInfo</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UpgradeInfo</span><span class="o">();</span>
</span><span class='line'>        <span class="n">mGetVersionConfig</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GetVersionConfig</span><span class="o">(</span><span class="n">SplashScreenActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span>
</span><span class='line'>                <span class="k">new</span> <span class="nf">CheckUpgradeHandler</span><span class="o">(),</span> <span class="n">mUpgradeInfo</span><span class="o">,</span> <span class="n">getUpgradeRequestParam</span><span class="o">());</span>
</span><span class='line'>        <span class="n">mGetVersionConfig</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>        <span class="c1">// /没版本且不升级</span>
</span><span class='line'>        <span class="k">new</span> <span class="nf">Handler</span><span class="o">().</span><span class="na">postDelayed</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>            <span class="nd">@Override</span>
</span><span class='line'>            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">Intent</span> <span class="n">i</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">SplashScreenActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">LoginActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'>                <span class="n">startActivity</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
</span><span class='line'>                <span class="n">finish</span><span class="o">();</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">},</span> <span class="n">LOADING_TIME</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>正常情况下，Runnable匿名类会生成一个class，但是这里的AUTO_UPDATE被定义为static final，并且设置为true。
在这种情况下，jdk会优化掉后面的分支，但是jdk6不会生成class，但是jdk7会生成一个格式有误的class，反编译后如下：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">class</span> <span class="nc">SplashScreenActivity</span><span class="n">$1</span>
</span><span class='line'>  <span class="kd">implements</span> <span class="n">Runnable</span>
</span><span class='line'><span class="o">{</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">();</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>所以，在进行dex打包的时候，就会检测到不规范的class，进行报错。
我想，如果在web应用上的话，应该是不会有问题的，因为这个类没有机会被使用。</p>

<p>后来，我发现在其他項目中也有类似写法，但是编译不会有问题。如下所示：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="k">if</span> <span class="o">(</span><span class="n">UpgradeInfo</span><span class="o">.</span><span class="na">isApkLocalExist</span><span class="o">(</span><span class="n">LogoActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span><span class="n">UpgradeInfo</span><span class="o">.</span><span class="na">getFilePath</span><span class="o">()))</span> <span class="o">{</span>
</span><span class='line'>    <span class="c1">// /检测到有新版本可以安装</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">msg</span> <span class="o">=</span> <span class="n">getString</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">string</span><span class="o">.</span><span class="na">dialog_check_version</span><span class="o">);</span>
</span><span class='line'>    <span class="n">DialogUtil</span><span class="o">.</span><span class="na">dialogForTwoButton</span><span class="o">(...</span> <span class="o">,</span> <span class="k">new</span> <span class="n">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>                <span class="nd">@Override</span>
</span><span class='line'>                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">DialogInterface</span> <span class="n">dialog</span><span class="o">,</span> <span class="kt">int</span> <span class="n">which</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                    <span class="c1">//..</span>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>            <span class="o">});</span>
</span><span class='line'><span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">AUTO_UPDATE</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="c1">// ....</span>
</span><span class='line'><span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>    <span class="c1">///没版本且不升级</span>
</span><span class='line'>    <span class="k">new</span> <span class="nf">Handler</span><span class="o">().</span><span class="na">postDelayed</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">Intent</span> <span class="n">i</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">LogoActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">OperatorLoginActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'>            <span class="n">startActivity</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
</span><span class='line'>            <span class="n">finish</span><span class="o">();</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">},</span> <span class="n">LOADING_TIME</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>故猜测，这个bug只出现在第一个不被使用匿名类身上(因为这个类前面还有个OnClickListener的匿名类)。
经过测试，发现也的确是存在这样的情况。</p>

<h2>规避方式</h2>

<p>乖乖使用jdk6，不要使用jdk7。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/20140219_android-maven-problems.html">Android+maven问题记录</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-19T00:00:00+08:00" pubdate data-updated="true">Feb 19<span>th</span>, 2014</time>
        
         | <a href="/blog/20140219_android-maven-problems.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>参考材料</h2>

<ul>
<li>https://code.google.com/p/maven-android-plugin/wiki/GettingStarted</li>
<li>http://books.sonatype.com/mvnref-book/reference/android-dev.html</li>
<li>http://www.ikoding.com/build-android-project-with-maven/</li>
<li>https://github.com/mosabua/maven-android-sdk-deployer</li>
<li>http://rgladwell.github.io/m2e-android/</li>
<li>http://wiki.eclipse.org/M2E_plugin_execution_not_covered</li>
</ul>


<h2>前提条件</h2>

<ul>
<li>JDK 1.6+</li>
<li>Android SDK r21.1+</li>
<li>Maven 3.1.1+</li>
<li>Set environment variable ANDROID_HOME to the path of your installed Android SDK and add $ANDROID_HOME/tools as well as $ANDROID_HOME/platform-tools to your $PATH. (or on Windows %ANDROID_HOME%\tools and %ANDROID_HOME%\platform-tools)</li>
</ul>


<p>特别注意maven的版本号</p>

<h2>maven配置</h2>

<p>请设置环境变量M2_HOME，并把settings.xml放到M2_HOME/conf中去。</p>

<h2>eclipse配置</h2>

<p>对于eclipse来说，除了要maven插件，还需要<a href="http://rgladwell.github.io/m2e-android/">m2e-android</a>插件。</p>

<h2>dependency中support-v4的版本号只有很旧r7</h2>

<p>其实除了support-v4,像android也有类似的问题。有一种解决方案是采用<a href="https://github.com/mosabua/maven-android-sdk-deployer">maven-android-sdk-deployer</a>。
我测试过之后，发现这个解决方案虽然可行，但实际上比较麻烦。我直接在公司内的代理仓库上安装了新版本的。</p>

<h2>Plugin execution not covered by lifecycle configuration</h2>

<p>pom.xml很可能出现下面的错误提示:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Plugin execution not covered by lifecycle configuration:
</span><span class='line'> com.jayway.maven.plugins.android.generation2:android-maven-plugin:3.8.2:consume-aar
</span><span class='line'> <span class="o">(</span>execution: default-consume-aar, phase: compile<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>虽然不影响编译，但是很怪，可以通过下面的配置进行排除:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;pluginManagement&gt;</span>
</span><span class='line'>  <span class="nt">&lt;plugins&gt;</span>
</span><span class='line'>      <span class="nt">&lt;plugin&gt;</span>
</span><span class='line'>          <span class="nt">&lt;groupId&gt;</span>org.eclipse.m2e<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>          <span class="nt">&lt;artifactId&gt;</span>lifecycle-mapping<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>          <span class="nt">&lt;version&gt;</span>1.0.0<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>          <span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>              <span class="nt">&lt;lifecycleMappingMetadata&gt;</span>
</span><span class='line'>                  <span class="nt">&lt;pluginExecutions&gt;</span>
</span><span class='line'>                      <span class="nt">&lt;pluginExecution&gt;</span>
</span><span class='line'>                          <span class="nt">&lt;pluginExecutionFilter&gt;</span>
</span><span class='line'>                              <span class="nt">&lt;groupId&gt;</span>com.jayway.maven.plugins.android.generation2<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>                              <span class="nt">&lt;artifactId&gt;</span>android-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>                              <span class="nt">&lt;versionRange&gt;</span>3.8.2<span class="nt">&lt;/versionRange&gt;</span>
</span><span class='line'>                              <span class="nt">&lt;goals&gt;</span>
</span><span class='line'>                                  <span class="nt">&lt;goal&gt;</span>manifest-update<span class="nt">&lt;/goal&gt;</span>
</span><span class='line'>                                  <span class="nt">&lt;goal&gt;</span>generate-sources<span class="nt">&lt;/goal&gt;</span>
</span><span class='line'>                                  <span class="nt">&lt;goal&gt;</span>proguard<span class="nt">&lt;/goal&gt;</span>
</span><span class='line'>                                  <span class="nt">&lt;goal&gt;</span>consume-aar<span class="nt">&lt;/goal&gt;</span>
</span><span class='line'>                              <span class="nt">&lt;/goals&gt;</span>
</span><span class='line'>                          <span class="nt">&lt;/pluginExecutionFilter&gt;</span>
</span><span class='line'>                          <span class="nt">&lt;action&gt;</span>
</span><span class='line'>                              <span class="nt">&lt;ignore</span> <span class="nt">/&gt;</span>
</span><span class='line'>                          <span class="nt">&lt;/action&gt;</span>
</span><span class='line'>                      <span class="nt">&lt;/pluginExecution&gt;</span>
</span><span class='line'>                  <span class="nt">&lt;/pluginExecutions&gt;</span>
</span><span class='line'>              <span class="nt">&lt;/lifecycleMappingMetadata&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/configuration&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/plugin&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/plugins&gt;</span>
</span><span class='line'><span class="nt">&lt;/pluginManagement&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>可以参考<a href="http://wiki.eclipse.org/M2E_plugin_execution_not_covered">M2E_plugin_execution_not_covered</a></p>

<h2>OutOfMemory或创建不了虚拟机</h2>

<p>有时候会出现内存溢出或创建不了虚拟机的错误。考虑设置内存大小</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;plugin&gt;</span>
</span><span class='line'>  <span class="nt">&lt;groupId&gt;</span>com.jayway.maven.plugins.android.generation2<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>  <span class="nt">&lt;artifactId&gt;</span>android-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>  <span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>      <span class="nt">&lt;dex&gt;</span>
</span><span class='line'>          <span class="nt">&lt;jvmArguments&gt;</span>
</span><span class='line'>              <span class="nt">&lt;jvmArgument&gt;</span>-Xms256m<span class="nt">&lt;/jvmArgument&gt;</span>
</span><span class='line'>              <span class="nt">&lt;jvmArgument&gt;</span>-Xmx512m<span class="nt">&lt;/jvmArgument&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/jvmArguments&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/dex&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/configuration&gt;</span>
</span><span class='line'><span class="nt">&lt;/plugin&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>出现maven打包太慢的情况</h2>

<p>经过测量，在dex成classes.dex的阶段比较慢，dx工具有提供一些参数进行优化.</p>

<ul>
<li>incremental 增量打包，开发阶段可以开启，可以比较明显的缩短打包时间</li>
<li>optimize 是否优化classes.dex，开发阶段可以关闭</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;dex&gt;</span>
</span><span class='line'>  <span class="nt">&lt;incremental&gt;</span>true<span class="nt">&lt;/incremental&gt;</span>
</span><span class='line'>  <span class="nt">&lt;optimize&gt;</span>false<span class="nt">&lt;/optimize&gt;</span>
</span><span class='line'><span class="nt">&lt;/dex&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>libpng error: Not a PNG file</h2>

<p>如果直接把jpg格式换个名字，变成png，编译会报下面的错误，导致后面编译的.9图片也出问题(混淆问题的原因)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>INFO<span class="o">]</span> libpng error: Not a PNG file
</span><span class='line'><span class="o">[</span>INFO<span class="o">]</span> ERROR: Failure processing PNG image E:<span class="se">\p</span>rojects<span class="se">\G</span>3ESOP<span class="se">\E</span>SOP-Hubei2<span class="se">\r</span>es<span class="se">\d</span>rawable-xhdpi<span class="se">\m</span>ore_about_pic1.png
</span></code></pre></td></tr></table></div></figure>


<h2>&#8216;build.plugins.plugin.version&#8217; is missing</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>WARN<span class="o">]</span> <span class="s1">&#39;build.plugins.plugin.version&#39;</span> is missing fororg.apache.maven.plugins:maven.compiler.plugin
</span><span class='line'>It is highly recommended to fix these problems because they threaten the stability of your build.
</span><span class='line'>For this reason, future Maven versions might no longer support building such malformed projects.
</span></code></pre></td></tr></table></div></figure>


<p>很简单，给maven.compiler.plugin这个插件添加version属性。
其实所有引用的插件都应该指定版本，不然都会有类似的提示。</p>

<h2>关于编码</h2>

<p>对于源码的编码格式和编译版本，应该进行指定:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;plugin&gt;</span>
</span><span class='line'>  <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>  <span class="nt">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>  <span class="nt">&lt;version&gt;</span>3.1<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>  <span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>      <span class="nt">&lt;source&gt;</span>1.6<span class="nt">&lt;/source&gt;</span>
</span><span class='line'>      <span class="nt">&lt;target&gt;</span>1.6<span class="nt">&lt;/target&gt;</span>
</span><span class='line'>      <span class="nt">&lt;encoding&gt;</span>UTF8<span class="nt">&lt;/encoding&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/configuration&gt;</span>
</span><span class='line'><span class="nt">&lt;/plugin&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>对于资源处理的话，可能出现下面的提示:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>WARNING<span class="o">]</span> Using platform encoding <span class="o">(</span>GBK actually<span class="o">)</span> to copy filtered resources, i.e. build is platform dependent!
</span></code></pre></td></tr></table></div></figure>


<p>这个应该设置成UTF-8，如下所示:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>      <span class="nt">&lt;plugin&gt;</span>
</span><span class='line'>          <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>          <span class="nt">&lt;artifactId&gt;</span>maven-resources-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>          <span class="nt">&lt;version&gt;</span>2.6<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>          <span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>              <span class="nt">&lt;encoding&gt;</span>UTF-8<span class="nt">&lt;/encoding&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/configuration&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/plugin&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>maven-jarsigner-plugin对带特殊字符的口令的处理</h2>

<p>这个弄了好久，最后发现得把密码用引用引起来。切记切记。</p>

<p>后来，发现在linux这样又不能支持。所以只能用profile解决。</p>

<h2>部分代码在jdk7中编译后dex出错</h2>

<p>参考<a href="/blog/20140225_android-jdk7-bug.html">jdk7编译的bug记录</a>,暂时只用jdk6编译</p>

<h2>jdk6不支持android-19的proguard</h2>

<p>原因是android-19的API实现了一些jdk7的特性，在proguard会找不到这些api。
由于和上一个问题有些冲突，暂时不考虑proguard。后续考虑考虑上jdk7。</p>

<h2>如何添加.so支持</h2>

<p>例如下面的百度地图SDK，需要加入一个so文件，在百度SDK里边是这样调用的：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">System</span><span class="o">.</span><span class="na">loadLibrary</span><span class="o">(</span><span class="s">&quot;BaiduMapSDK_v2_3_1&quot;</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>如果要用maven集成的话，可以用下面的配置(已经部署到代理仓库):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;dependency&gt;</span>
</span><span class='line'>  <span class="nt">&lt;groupId&gt;</span>com.baidu<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>  <span class="nt">&lt;artifactId&gt;</span>libBaiduMapSDK_v2_3_1<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>  <span class="nt">&lt;version&gt;</span>2.3.1<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>  <span class="nt">&lt;classifier&gt;</span>armeabi<span class="nt">&lt;/classifier&gt;</span>
</span><span class='line'>  <span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
</span><span class='line'>  <span class="nt">&lt;type&gt;</span>so<span class="nt">&lt;/type&gt;</span>
</span><span class='line'><span class="nt">&lt;/dependency&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>如何转换成eclipse项目</h2>

<p>项目目录中只有pom.xml，如果要导入eclipse的话，可以考虑使用下面的命令生成.project和.classpath文件</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>mvn eclipse:eclipse
</span></code></pre></td></tr></table></div></figure>


<p>生成之后可能会有M2_REPO变量找不到的问题，可以在eclipse中通过window>Preferences>Maven>Installations>Add进行添加maven安装位置。</p>

<p>否则的话，可以按以下方法添加M2_REPO: Window > Preferences > Java > Build Path > Classpath Variables
新增一个M2_REPO变量指向你maven本地仓库。</p>

<h2>常用命令</h2>

<p>mvn clean package<br/>
打包，但不部署。</p>

<p>mvn clean install<br/>
打包，部署并运行。</p>

<p>mvn clean package android:redeploy android:run<br/>
这个命令通常用于手机上已经安装了要部署的应用，但签名不同，所以我们打包的同时使用redeploy命令将现有应用删除并重新部署，最后使用run命令运行应用。</p>

<p>mvn android:redeploy android:run<br/>
不打包，将已生成的包重新部署并运行。</p>

<p>mvn android:deploy android:run<br/>
部署并运行已生成的包，与redeploy不同的是，deploy不会删除已有部署和应用数据</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/7/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/5/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/20160909_java-xml.html">java xml技术简单总结</a>
      </li>
    
      <li class="post">
        <a href="/blog/20160906_java-books.html">java相关技术书推荐</a>
      </li>
    
      <li class="post">
        <a href="/blog/20160607_log4j-source-study.html">log4j源码心得</a>
      </li>
    
      <li class="post">
        <a href="/blog/20160602_java-object-unknown-state.html">避免对象未知状态</a>
      </li>
    
      <li class="post">
        <a href="/blog/20160426_commons-logging-source.html">commons-logging源码学习</a>
      </li>
    
      <li class="post">
        <a href="/blog/20160416_svn-handshake-failure.html">svn报文转发出现handshake_failure的问题</a>
      </li>
    
      <li class="post">
        <a href="/blog/20160216_heapdump-intro.html">heapdump分析简单总结</a>
      </li>
    
      <li class="post">
        <a href="/blog/20160105_source-reading.html">源码阅读应该得到什么?</a>
      </li>
    
      <li class="post">
        <a href="/blog/20151226_commons-dbcp-source-view.html">从commons-dbcp源码学习设计思路</a>
      </li>
    
      <li class="post">
        <a href="/blog/20151216_aes256-Illegal-key-size-or-default-parameters.html">AES256算法遇到 Illegal key size or default parameters的解决办法</a>
      </li>
    
  </ul>
</section>

<section>
<iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=8&isTitle=1&noborder=1&isWeibo=1&isFans=0&uid=1735848865&verifier=fa40be14&dpc=1"></iframe>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/mccxj">@mccxj</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mccxj',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - 蔡晓建 -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'mccxj';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
